class Solution:
    def numTrees(self, n: int) -> int:
        return self.helper(1, n+1)
    
    def helper(self, l, r, cache = {}):
        if l == r: return 1
        if r-l in cache: return cache[r-l]
        pos = 0
        for i in range(l, r):
            left = self.helper(l, i)
            right = self.helper(i+1, r)
            pos += left*right
        cache[r-l] = pos
        return pos
